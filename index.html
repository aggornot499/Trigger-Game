<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">

<style>
    body {
        background-color: #000;
        font-family: lucida sans, sans-serif;
        text-align: center;
        margin: 0;
        padding: 0;
        user-select: none;
    }

    #counter {
        font-size: clamp(1.5rem, 4vw, 2.5rem);
        margin-top: 15px;
        color: #fff;
    }

    #reloadStatus {
        font-size: clamp(1rem, 2.5vw, 1.4rem);
        margin-bottom: 10px;
        color: #fff;
    }

    #cpsCounter {
        font-size: clamp(1.2rem, 3vw, 1.6rem);
        color: #fff;
        margin-bottom: 15px;
    }

    /* Responsive grid */
    #gameContainer {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 20px;
        width: min(90%, 600px);
        margin: auto;
    }

    .clickBox {
        width: 100%;
        aspect-ratio: 1 / 1;
        cursor: pointer;
        border-radius: 12px;
        transition: transform 0.1s ease;
        background-color: #222;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .clickBox img {
        width: 80%;
        height: 80%;
        object-fit: contain;
        pointer-events: none;
    }

    .clickBox:active {
        transform: scale(0.92);
    }

    /* Reload button (mobile + desktop) */
    #reloadBtn {
        margin-top: 20px;
        padding: 15px 30px;
        font-size: clamp(1.1rem, 3vw, 1.5rem);
        border: none;
        border-radius: 10px;
        background-color: #444;
        color: white;
        cursor: pointer;
    }

    #reloadBtn:active {
        transform: scale(0.95);
    }
</style>

</head>

<body>

<div id="counter">Click to Shoot</div>
<div id="reloadStatus">Reload Ready</div>
<div id="cpsCounter">BPS: 0</div>

<div id="gameContainer">
    <div id="clickBox" class="clickBox"><img src="sprites/marker.png"></div>
    <div id="clickBox2" class="clickBox"><img src="sprites/marker2.png"></div>
    <div id="clickBox3" class="clickBox"><img src="sprites/marker3.png"></div>
    <div id="clickBox4" class="clickBox"><img src="sprites/marker4.png"></div>
</div>

<button id="reloadBtn">Reload</button>

<audio id="reloadSound" src="sounds/reload.wav" preload="auto"></audio>
<audio id="clickSound1" src="sounds/click.wav" preload="auto"></audio>
<audio id="clickSound2" src="sounds/click2.wav" preload="auto"></audio>
<audio id="clickSound3" src="sounds/click3.wav" preload="auto"></audio>
<audio id="clickSound4" src="sounds/click4.wav" preload="auto"></audio>

<script>
    let clicks = 200;
    const MAX_CLICKS = 200;

    const counter = document.getElementById("counter");
    const reloadStatus = document.getElementById("reloadStatus");

    const box1 = document.getElementById("clickBox");
    const box2 = document.getElementById("clickBox2");
    const box3 = document.getElementById("clickBox3");
    const box4 = document.getElementById("clickBox4");

    const reloadBtn = document.getElementById("reloadBtn");

    const reloadSound = document.getElementById("reloadSound");
    const clickSound1 = document.getElementById("clickSound1");
    const clickSound2 = document.getElementById("clickSound2");
    const clickSound3 = document.getElementById("clickSound3");
    const clickSound4 = document.getElementById("clickSound4");

    let reloadReady = true;
    const COOLDOWN_TIME = 5000;

    function updateCounter() {
        counter.textContent = "Shots Left: " + clicks;
    }

    function startCooldown() {
        reloadReady = false;
        reloadStatus.textContent = "Reload Cooling Downâ€¦";
        reloadBtn.disabled = true;
        reloadBtn.style.opacity = 0.5;

        setTimeout(() => {
            reloadReady = true;
            reloadStatus.textContent = "Reload Ready";
            reloadBtn.disabled = false;
            reloadBtn.style.opacity = 1;
        }, COOLDOWN_TIME);
    }

    // BPS SYSTEM
    let clicksThisSecond = 0;
    const cpsDisplay = document.getElementById("cpsCounter");

    function registerCPS() {
        clicksThisSecond++;
    }

    setInterval(() => {
        cpsDisplay.textContent = "BPS: " + clicksThisSecond;
        clicksThisSecond = 0;
    }, 1000);

    function handleShot(sound) {
        if (clicks <= 0) return;

        clicks--;
        sound.currentTime = 0;
        sound.play();

        registerCPS();
        updateCounter();
    }

    // Pointer events = works on mouse + touch
    [box1, box2, box3, box4].forEach((box, i) => {
        const sounds = [clickSound1, clickSound2, clickSound3, clickSound4];
        box.addEventListener("pointerdown", () => handleShot(sounds[i]));
    });

    // Reload button
    reloadBtn.addEventListener("click", () => {
        if (!reloadReady) return;

        const reloadAmount = Math.floor(Math.random() * (140 - 80 + 1)) + 80;
        clicks = Math.min(MAX_CLICKS, clicks + reloadAmount);

        reloadSound.currentTime = 0;
        reloadSound.play();

        updateCounter();
        startCooldown();
    });

    // Desktop keyboard reload
    document.addEventListener("keydown", (event) => {
        if (event.key.toLowerCase() === "r") {
            reloadBtn.click();
        }
    });

    updateCounter();
</script>

</body>
</html>





